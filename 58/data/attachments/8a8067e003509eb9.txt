# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.

# Test info

- Name: Create Post using 300 characters
- Location: /home/runner/work/BlueSkyTesting/BlueSkyTesting/__tests__/lib/Playwright/PostPageCreation.test.ts:85:5

# Error details

```
Error: expect(received).toBe(expected) // Object.is equality

Expected: 300
Received: 1
    at /home/runner/work/BlueSkyTesting/BlueSkyTesting/__tests__/lib/Playwright/PostPageCreation.test.ts:111:36
```

# Page snapshot

```yaml
- main:
  - button "Back":
    - img
  - button "Edit profile": Edit Profile
  - button "More options":
    - img
  - text: cis565testgroup.bsky.social @cis565testgroup.bsky.social
  - link "2 followers"
  - link "0 following"
  - text: 5 posts
  - img "View cis565testgroup.bsky.social's avatar"
  - tablist:
    - tab "Posts"
    - tab "Replies"
    - tab "Media"
    - tab "Videos"
    - tab "Likes"
    - tab "Feeds"
    - tab "Starter Packs"
    - tab "Lists"
  - link "cis565testgroup.bsky.social's avatar View profileView profile · April 15, 2025 at 2:38 AM A Reply (0 replies) Repost or quote post Like (0 likes) Open post options menu":
    - link "cis565testgroup.bsky.social's avatar"
    - link "View profile": ‪cis565testgroup.bsky.social‬
    - link "View profile": ‪@cis565testgroup.bsky.social‬
    - text: ·
    - link "April 15, 2025 at 2:38 AM": 20h
    - text: A
    - button "Reply (0 replies)":
      - img
    - button "Repost or quote post":
      - img
    - button "Like (0 likes)":
      - img
    - button "Open post options menu":
      - img
  - link "cis565testgroup.bsky.social's avatar View profileView profile · April 15, 2025 at 2:31 AM Lorem ipsum odor amet, consectetuer adipiscing elit. Etiam himenaeos nascetur elit molestie semper. Sagittis ad senectus mauris; facilisi maximus a. Ex lectus ad tempor placerat egestas faucibus, a quam tincidunt. Parturient sagittis curae dignissim, tortor nam molestie ullamcorper mattis interdums. Reply (0 replies) Repost or quote post Like (0 likes) Open post options menu":
    - link "cis565testgroup.bsky.social's avatar"
    - link "View profile": ‪cis565testgroup.bsky.social‬
    - link "View profile": ‪@cis565testgroup.bsky.social‬
    - text: ·
    - link "April 15, 2025 at 2:31 AM": 21h
    - text: Lorem ipsum odor amet, consectetuer adipiscing elit. Etiam himenaeos nascetur elit molestie semper. Sagittis ad senectus mauris; facilisi maximus a. Ex lectus ad tempor placerat egestas faucibus, a quam tincidunt. Parturient sagittis curae dignissim, tortor nam molestie ullamcorper mattis interdums.
    - button "Reply (0 replies)":
      - img
    - button "Repost or quote post":
      - img
    - button "Like (0 likes)":
      - img
    - button "Open post options menu":
      - img
  - link "cis565testgroup.bsky.social's avatar View profileView profile · April 15, 2025 at 2:31 AM A Reply (0 replies) Repost or quote post Like (0 likes) Open post options menu":
    - link "cis565testgroup.bsky.social's avatar"
    - link "View profile": ‪cis565testgroup.bsky.social‬
    - link "View profile": ‪@cis565testgroup.bsky.social‬
    - text: ·
    - link "April 15, 2025 at 2:31 AM": 21h
    - text: A
    - button "Reply (0 replies)":
      - img
    - button "Repost or quote post":
      - img
    - button "Like (0 likes)":
      - img
    - button "Open post options menu":
      - img
  - link "cis565testgroup.bsky.social's avatar View profileView profile · April 15, 2025 at 2:31 AM Lorem ipsum odor amet, consectetuer adipiscing elit. Etiam himenaeos nascetur elit molestie semper. Sagittis ad senectus mauris; facilisi maximus a. Ex lectus ad tempor placerat egestas faucibus, a quam tincidunt. Parturient sagittis curae dignissim, tortor nam molestie ullamcorper mattis interdums. Reply (0 replies) Repost or quote post Like (0 likes) Open post options menu":
    - link "cis565testgroup.bsky.social's avatar"
    - link "View profile": ‪cis565testgroup.bsky.social‬
    - link "View profile": ‪@cis565testgroup.bsky.social‬
    - text: ·
    - link "April 15, 2025 at 2:31 AM": 21h
    - text: Lorem ipsum odor amet, consectetuer adipiscing elit. Etiam himenaeos nascetur elit molestie semper. Sagittis ad senectus mauris; facilisi maximus a. Ex lectus ad tempor placerat egestas faucibus, a quam tincidunt. Parturient sagittis curae dignissim, tortor nam molestie ullamcorper mattis interdums.
    - button "Reply (0 replies)":
      - img
    - button "Repost or quote post":
      - img
    - button "Like (0 likes)":
      - img
    - button "Open post options menu":
      - img
  - link "cis565testgroup.bsky.social's avatar View profileView profile · April 15, 2025 at 2:31 AM A Reply (0 replies) Repost or quote post Like (0 likes) Open post options menu":
    - link "cis565testgroup.bsky.social's avatar"
    - link "View profile": ‪cis565testgroup.bsky.social‬
    - link "View profile": ‪@cis565testgroup.bsky.social‬
    - text: ·
    - link "April 15, 2025 at 2:31 AM": 21h
    - text: A
    - button "Reply (0 replies)":
      - img
    - button "Repost or quote post":
      - img
    - button "Like (0 likes)":
      - img
    - button "Open post options menu":
      - img
  - text: End of feed
  - button "New post":
    - img
- navigation:
  - button "Switch accounts"
  - link "Home"
  - link "Explore"
  - link "Notifications"
  - link "Chat"
  - link "Feeds"
  - link "Lists"
  - link "Profile"
  - link "Settings"
- img
- search "Search"
- link "Discover"
- link "Following"
- link "More feeds"
- img
- text: Trending
- button "Hide trending topics":
  - img
- link "Browse topic Abrego Garcia": Abrego Garcia
- link "Browse topic Dan Caldwell": Dan Caldwell
- link "Browse topic Karoline Leavitt": Karoline Leavitt
- link "Browse topic OpenAI Network": OpenAI Network
- link "Browse topic 4chan Hack": 4chan Hack
- link "Browse topic Jackie Robinson": Jackie Robinson
- link "Feedback"
- text: •
- link "Privacy"
- text: •
- link "Terms"
- text: •
- link "Help"
```

# Test source

```ts
   11 |
   12 |   // Navigate to the login page
   13 |   await page.goto(`${BLUESKY_WEB_URL}`);
   14 |
   15 |   // Click the sign-in button
   16 |   await page.getByRole('button', { name: 'Sign in' }).click();
   17 |
   18 |   // Click on username field
   19 |   await page.getByTestId('loginUsernameInput').click();
   20 |
   21 |   // Enter username
   22 |   await page.getByTestId('loginUsernameInput').fill(`${BSKY_EMAIL}`);
   23 |
   24 |   // Click on password field
   25 |   await page.getByTestId('loginPasswordInput').click();
   26 |
   27 |   // Enter pswd
   28 |   await page.getByTestId('loginPasswordInput').fill(`${BSKY_PASS}`);
   29 |
   30 |   // Click on next button to sign-in
   31 |   await page.getByTestId('loginNextButton').click();
   32 |
   33 | }
   34 |
   35 | // Check if post exists, return boolean 
   36 | async function chkPostExist(postText: string): Promise<boolean> {
   37 |
   38 |     // If postText is not a string, return false
   39 |     if (typeof postText !== 'string' || !postText) {
   40 |         return false;
   41 |     }
   42 |
   43 |     // Else return
   44 |     return postText.trim().includes(' ');
   45 | }
   46 |
   47 |
   48 | // Setup functionality
   49 | test.beforeEach(async ({ page }) => {
   50 |
   51 |     // Call login function
   52 |     await login(page);
   53 |
   54 | });
   55 |
   56 | // Create Post using one character
   57 | test('Create Post using one character', {tag: '@post'}, async ({ page }) => {
   58 |
   59 |     // Navigate to profile page
   60 |     await page.getByRole('link', { name: 'Profile', exact: true }).click();
   61 |
   62 |     // Click on the compose button
   63 |     await page.getByTestId('profileView').getByTestId('composeFAB').click();
   64 |
   65 |     // Click on the post textbox and type 1 character post msg
   66 |     await page.getByRole('textbox', { name: 'Rich-Text Editor' }).fill('A');
   67 |     
   68 |     // Click the publish / post button to create post
   69 |     await page.getByTestId('composerPublishBtn').click();
   70 |
   71 |     // Initiate a page reload to show upated post numbers
   72 |     await page.reload();
   73 |
   74 |     // Select the first post description seen
   75 |     let postText = await page.getByTestId('postText').first().textContent();
   76 |
   77 |     // Assertion
   78 |     // Expected length of post toBe 1
   79 |     await expect(postText?.length).toBe(1);
   80 |
   81 | });
   82 |
   83 |
   84 | // Create Post using 300 character
   85 | test('Create Post using 300 characters', {tag: '@post'}, async ({ page }) => {
   86 |
   87 |     // Navigate to profile page
   88 |     await page.getByRole('link', { name: 'Profile', exact: true }).click();
   89 |
   90 |     // Click on the compose button
   91 |     await page.getByTestId('profileView').getByTestId('composeFAB').click();
   92 |
   93 |     // Click on the post textbox and type 300 character post msg
   94 |     await page.getByRole('textbox', { name: 'Rich-Text Editor' }).fill('Lorem ipsum odor amet, consectetuer adipiscing elit. Etiam himenaeos nascetur elit molestie semper. Sagittis ad senectus mauris; facilisi maximus a. Ex lectus ad tempor placerat egestas faucibus, a quam tincidunt. Parturient sagittis curae dignissim, tortor nam molestie ullamcorper mattis interdums.');
   95 |     
   96 |     // Click the publish / post button to create post
   97 |     await page.getByTestId('composerPublishBtn').click();
   98 |
   99 |     // Initiate a page reload to show upated post numbers
  100 |     await page.reload();
  101 |
  102 |
  103 |     // Select the first post description seen
  104 |     let postText = await page.getByTestId('postText').first().textContent();
  105 |
  106 |     // Check that post has more than one word
  107 |     let actual = await chkPostExist(postText);
  108 |
  109 |     // Assertion
  110 |     // Expected length of post toBe 300
> 111 |     await expect(postText?.length).toBe(300);
      |                                    ^ Error: expect(received).toBe(expected) // Object.is equality
  112 |
  113 |     // Verify post description has more than one word
  114 |     await expect(actual).toEqual(true);
  115 |
  116 | });
  117 |
```