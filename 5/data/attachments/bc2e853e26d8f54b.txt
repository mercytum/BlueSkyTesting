# Instructions

- Following Playwright test failed.
- Explain why, be concise, respect Playwright best practices.
- Provide a snippet of code with the fix, if possible.

# Test info

- Name: user can follow and unfollow mercytum
- Location: /home/runner/work/BlueSkyTesting/BlueSkyTesting/__tests__/lib/Playwright/FollowingPage.test.ts:3:5

# Error details

```
Error: locator.click: Test timeout of 30000ms exceeded.
Call log:
  - waiting for getByTestId('undefined-selector-2').getByText('People')
    - locator resolved to <div dir="auto" class="css-text-146c3p1">…</div>
  - attempting click action
    2 × waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <iframe src="about:blank" id="react-refresh-overlay"></iframe> intercepts pointer events
    - retrying click action
    - waiting 20ms
    2 × waiting for element to be visible, enabled and stable
      - element is visible, enabled and stable
      - scrolling into view if needed
      - done scrolling
      - <iframe src="about:blank" id="react-refresh-overlay"></iframe> intercepts pointer events
    - retrying click action
      - waiting 100ms
    44 × waiting for element to be visible, enabled and stable
       - element is visible, enabled and stable
       - scrolling into view if needed
       - done scrolling
       - <iframe src="about:blank" id="react-refresh-overlay"></iframe> intercepts pointer events
     - retrying click action
       - waiting 500ms

    at /home/runner/work/BlueSkyTesting/BlueSkyTesting/__tests__/lib/Playwright/FollowingPage.test.ts:23:70
```

# Page snapshot

```yaml
- main:
  - img
  - search "Search": mercytum
  - button "Clear search query":
    - img
  - 'button "Filter search by language (currently: All languages)"':
    - img
    - text: All languages
    - img
  - tablist:
    - tab "Top"
    - tab "Latest"
    - tab "People"
    - tab "Feeds"
  - text: No results found for mercytum
- navigation:
  - button "Switch accounts"
  - link "Home"
  - link "Explore"
  - link "Notifications": "1"
  - link "Chat"
  - link "Feeds"
  - link "Lists"
  - link "Profile"
  - link "Settings"
- link "Discover"
- link "Following"
- link "More feeds"
- img
- text: Trending
- button "Hide trending topics":
  - img
- link "Browse topic Supreme Court": Supreme Court
- link "Browse topic Aviation Incidents": Aviation Incidents
- link "Browse topic Medicaid": Medicaid
- link "Browse topic Nintendo": Nintendo
- link "Browse topic The Archers": The Archers
- link "Browse topic Tariffs": Tariffs
- link "Feedback"
- text: •
- link "Privacy"
- text: •
- link "Terms"
- text: •
- link "Help"
```

# Test source

```ts
   1 | import {expect, test} from '@playwright/test'
   2 |
   3 | test('user can follow and unfollow mercytum', async ({page}) => {
   4 |   //Go to site and Login
   5 |   await page.goto('http://localhost:19006/')
   6 |   // await page.goto('https://bsky.app/')
   7 |   await page.getByRole('button', {name: 'Sign in'}).click()
   8 |   await page.getByTestId('loginUsernameInput').click()
   9 |   await page.getByTestId('loginUsernameInput').fill('cis565bskytests@gmail.com')
  10 |   await page.getByTestId('loginPasswordInput').click()
  11 |   await page.getByTestId('loginPasswordInput').fill('CIS565TestGroup')
  12 |   await page.getByTestId('loginNextButton').click()
  13 |
  14 |   //Confirm Login was successful
  15 |   await expect(page.getByTestId('homeScreenFeedTabs-Following')).toBeVisible()
  16 |
  17 |   //Search for user(mercytum)
  18 |   await page.getByRole('search', {name: 'Search'}).click()
  19 |   await page.getByRole('search', {name: 'Search'}).fill('mercytum')
  20 |   await page.getByRole('search', {name: 'Search'}).press('Enter')
  21 |
  22 |   //Go to People tab and select the user
> 23 |   await page.getByTestId('undefined-selector-2').getByText('People').click()
     |                                                                      ^ Error: locator.click: Test timeout of 30000ms exceeded.
  24 |   await page.getByRole('link', {name: 'mercytum.bsky.social'}).click()
  25 |
  26 |   //Follow the user
  27 |   await page.getByTestId('followBtn').click()
  28 |
  29 |   // Expect to see the "Unfollow" button now
  30 |   await expect(page.getByTestId('unfollowBtn')).toBeVisible()
  31 |
  32 |   //Navigate back Home
  33 |   await page.getByRole('link', {name: 'Home', exact: true}).click()
  34 |
  35 |   //Check if user is in your Following list
  36 |   await page.getByTestId('homeScreenFeedTabs-Following').click()
  37 |   // await page.goto('http://localhost:19006/')
  38 |   // await page.goto('https://bsky.app/')
  39 |   await page.locator('a').filter({hasText: '‪Mercy Tum‬'}).click()
  40 |
  41 |   //Unfollow user
  42 |   await page.getByTestId('unfollowBtn').click()
  43 |   await page.getByRole('link', {name: 'Home', exact: true}).click()
  44 | })
  45 |
```